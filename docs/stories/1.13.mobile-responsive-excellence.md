# Story 1.13: Mobile UX/UI Excellence and Responsive Refinement

## Status

**Draft**

---

## Story

**As a** mobile user,  
**I want** an excellent mobile experience with optimised touch interactions and responsive design,  
**so that** I can use the platform seamlessly on any device.

---

## Acceptance Criteria

1. All pages fully responsive: mobile (320px-480px), tablet (481px-768px), desktop (769px+)
2. Touch-optimised interactions: larger tap targets (min 44x44px), swipe gestures where appropriate
3. Mobile navigation: hamburger menu, bottom navigation for key actions
4. Mobile-optimised forms: native input types (email, tel, date), auto-zoom disabled, keyboard-friendly
5. Image loading optimised: lazy loading, responsive images (srcset), compression
6. Mobile performance: Lighthouse mobile score >90, First Contentful Paint <2s
7. PWA features: Add to Home Screen, offline support (service worker), app-like experience
8. Mobile-specific features: pull-to-refresh, infinite scroll, swipe actions (delete, archive)
9. Touch gestures: swipe to go back, pinch to zoom images, long-press context menus
10. Mobile testing on real devices: iOS Safari, Android Chrome, touch interactions validated

### Integration Verification

**IV1:** All existing pages responsive, navigation works on mobile, forms submit correctly  
**IV2:** Tailwind breakpoints consistently applied, touch targets meet accessibility, no horizontal scroll  
**IV3:** Mobile load <3s on 4G, images optimised, no layout shift (CLS <0.1)

---

## Dev Technical Guidance

### Prerequisites
**All previous stories should be complete as this refines existing features for mobile.**

### Responsive Design with Tailwind
[Source: Current tech stack uses Tailwind CSS]

**Tailwind breakpoints:**
```typescript
sm: 640px   // mobile landscape
md: 768px   // tablet
lg: 1024px  // desktop
xl: 1280px  // large desktop
```

**Mobile-first approach:**
```tsx
// Default styles = mobile, add breakpoints for larger screens
<div className="p-4 md:p-6 lg:p-8">
  <h1 className="text-2xl md:text-3xl lg:text-4xl">Title</h1>
</div>
```

### PWA Configuration
**Create `manifest.json`:**
```json
{
  "name": "HX Workplace",
  "short_name": "HX",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#6366f1",
  "icons": [...]
}
```

**Service Worker for offline:**
```javascript
// Cache key pages and assets
self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});
```

---

## Tasks / Subtasks

- [ ] **Task 1: Responsive Layout Audit** (AC: 1)
  - [ ] Test all pages on mobile, tablet, desktop
  - [ ] Fix any layout issues (overflow, misalignment)
  - [ ] Ensure consistent breakpoints (Tailwind)
  - [ ] Test: resize browser, verify responsive

- [ ] **Task 2: Touch Optimisation** (AC: 2)
  - [ ] Increase tap target sizes (buttons, links min 44x44px)
  - [ ] Add swipe gestures (swipe to delete comments, swipe to navigate)
  - [ ] Test: tap targets on real device, verify comfortable

- [ ] **Task 3: Mobile Navigation** (AC: 3)
  - [ ] Implement hamburger menu for mobile
  - [ ] Bottom navigation bar for key actions (home, messages, notifications, profile)
  - [ ] Test: navigate on mobile, verify smooth experience

- [ ] **Task 4: Mobile Form Optimisation** (AC: 4)
  - [ ] Use native input types (type="email", type="tel", type="date")
  - [ ] Add `autocomplete` attributes for autofill
  - [ ] Disable auto-zoom: `maximum-scale=1.0`
  - [ ] Test: fill form on mobile, verify keyboard behaviour

- [ ] **Task 5: Image Optimisation** (AC: 5)
  - [ ] Implement lazy loading (`loading="lazy"`)
  - [ ] Use responsive images (`srcset`)
  - [ ] Compress images before upload
  - [ ] Test: scroll page, verify images load efficiently

- [ ] **Task 6: Mobile Performance** (AC: 6)
  - [ ] Run Lighthouse mobile audit
  - [ ] Optimise bundle size (code splitting)
  - [ ] Reduce third-party scripts
  - [ ] Test: Lighthouse score >90

- [ ] **Task 7: PWA Implementation** (AC: 7)
  - [ ] Create `manifest.json` with app metadata
  - [ ] Create service worker for offline support
  - [ ] Add to HTML: `<link rel="manifest" href="/manifest.json">`
  - [ ] Test: install as app, verify works offline

- [ ] **Task 8: Mobile-Specific Features** (AC: 8)
  - [ ] Implement pull-to-refresh on feed
  - [ ] Ensure infinite scroll works smoothly
  - [ ] Add swipe actions (delete, archive)
  - [ ] Test: pull-to-refresh, swipe actions

- [ ] **Task 9: Touch Gestures** (AC: 9)
  - [ ] Swipe to go back (history)
  - [ ] Pinch to zoom on images
  - [ ] Long-press context menus
  - [ ] Test: gestures on real device

- [ ] **Task 10: Real Device Testing** (AC: 10)
  - [ ] Test on iOS Safari (iPhone)
  - [ ] Test on Android Chrome (Android phone)
  - [ ] Test touch interactions, gestures
  - [ ] Fix any device-specific issues

- [ ] **Task 11: Integration Testing** (IV1, IV2, IV3)
  - [ ] Verify all pages responsive
  - [ ] Test mobile load time on 4G
  - [ ] Measure CLS (Cumulative Layout Shift)
  - [ ] Verify no horizontal scroll

---

## Dev Notes

**Key Decisions:**
1. **Mobile-first CSS**: Write mobile styles first, add breakpoints for larger screens
2. **PWA**: Full app-like experience with offline support
3. **Performance budget**: Mobile load <3s, FCP <2s

**Gotchas:**
- iOS Safari has quirks (viewport height, PWA caching)
- Android Chrome behaviour differs (back button, gestures)
- Test on real devices, not just browser DevTools

---

## Dev Agent Record

*To be populated by Dev Agent during implementation*

---

## Change Log

| Date       | Version | Description                          | Author                |
| ---------- | ------- | ------------------------------------ | --------------------- |
| 2025-01-15 | 1.0     | Initial story creation from PRD Epic 1 | Bob (Scrum Master)  |

